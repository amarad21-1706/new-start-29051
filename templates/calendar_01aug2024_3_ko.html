<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calendar</title>
  <link href="/fullcalendar/fullcalendar/index.global.js" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="/fullcalendar/fullcalendar/index.global.js"></script>  <script>
      $(document).ready(function() {
          var calendarEl = document.getElementById('calendar');
          var calendar = new FullCalendar.Calendar(calendarEl, {
              initialView: 'dayGridMonth',
              events: '/api/events', // Fetch events from server
              editable: true,
              selectable: true,
              eventClick: function(info) { // Handle event click
                // Implement your logic for event click (e.g., open modal)
                console.log('Event clicked:', info.event);
              },
              eventDrop: function(info) { // Handle event drag and drop
                // Update event data on the server using AJAX
                updateEvent(info.event.id, info.event.startStr, info.event.endStr);
              },
              eventResize: function(info) { // Handle event resize
                // Update event duration on the server using AJAX
                updateEvent(info.event.id, info.event.startStr, info.event.endStr);
              },
              eventColor: '#378006'
          });
          calendar.render();
      });

      // Function to update event data on the server (replace with your implementation)
      function updateEvent(eventId, newStart, newEnd) {
        $.ajax({
          url: '/update-event/' + eventId,
          type: 'POST',
          data: {
            start: newStart,
            end: newEnd
          },
          success: function(response) {
            // Handle success response (e.g., update calendar)
            console.log('Event updated:', response);
          },
          error: function(error) {
            console.error('Error updating event:', error);
          }
        });
      }
  </script>
</head>
<body>
  <div id="calendar"></div>
</body>
</html>
